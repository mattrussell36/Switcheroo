{"version":3,"sources":["webpack:///webpack/bootstrap def9bace28711a9e6889","webpack:///./src/background.js","webpack:///./src/RulesService.js","webpack:///./src/RuleMatcher.js"],"names":["service","getRulesService","rules","get","window","ruleMatcher","chrome","webRequest","onBeforeRequest","addListener","details","redirectOnMatch","urls","LocalRulesService","JSON","parse","localStorage","getItem","set","data","setItem","stringify","RuleMatcher","lastRequestId","Object","keys","reduce","arr","group","concat","paths","request","rule","find","active","url","indexOf","from","requestId","redirectUrl","replace","to"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;AChEA;;;;AACA;;;;;;AAEA,IAAMA,UAAU,uBAAaC,eAAb,EAAhB;AACA,IAAMC,QAAQF,QAAQG,GAAR,EAAd;AACAC,OAAOF,KAAP,GAAeA,KAAf;AACA,IAAMG,cAAc,0BAAgBH,KAAhB,CAApB;;AAEAI,OAAOC,UAAP,CAAkBC,eAAlB,CAAkCC,WAAlC,CACI,UAASC,OAAT,EAAkB;AACd,WAAOL,YAAYM,eAAZ,CAA4BD,OAA5B,CAAP;AACH,CAHL,EAII;AACIE,UAAO,CAAC,YAAD;AADX,CAJJ,EAOI,CAAC,UAAD,CAPJ,E;;;;;;;;;;;;;ACRA,IAAMC,oBAAoB,SAApBA,iBAAoB,GAAY;AAClC,SAAKV,GAAL,GAAW,YAAW;AAClB,eAAOW,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,MAArB,KAAgC,IAA3C,CAAP;AACH,KAFD;;AAIA,SAAKC,GAAL,GAAW,UAASC,IAAT,EAAc;AACrBH,qBAAaI,OAAb,CAAqB,MAArB,EAA6BN,KAAKO,SAAL,CAAeF,IAAf,CAA7B;AACH,KAFD;AAGH,CARD;;kBAUe;AACdlB,qBAAiB,2BAAW;AAC3B,eAAO,IAAIY,iBAAJ,EAAP;AACA;AAHa,C;;;;;;;;;;;;;kBCVSS,W;AAAT,SAASA,WAAT,CAAqBpB,KAArB,EAA4B;AACvC,QAAIqB,sBAAJ;;AAEA;AACArB,YAAQsB,OAAOC,IAAP,CAAYvB,KAAZ,EAAmBwB,MAAnB,CAA0B,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC9C,eAAOD,IAAIE,MAAJ,CAAW3B,MAAM0B,KAAN,EAAaE,KAAxB,CAAP;AACH,KAFO,EAEL,EAFK,CAAR;;AAIA,SAAK5B,KAAL,GAAaA,KAAb;;AAEA,SAAKS,eAAL,GAAuB,UAASoB,OAAT,EAAkB;AACrC,YAAIC,OAAO9B,MAAM+B,IAAN,CAAW,UAASD,IAAT,EAAe;AACjC,mBAAOA,KAAKE,MAAL,IACAH,QAAQI,GAAR,CAAYC,OAAZ,CAAoBJ,KAAKK,IAAzB,IAAiC,CAAC,CADlC,IAEAN,QAAQO,SAAR,KAAsBf,aAF7B;AAGH,SAJU,CAAX;;AAMA,YAAIS,IAAJ,EAAU;AACNT,4BAAgBQ,QAAQO,SAAxB;AACA,mBAAO;AACHC,6BAAcR,QAAQI,GAAR,CAAYK,OAAZ,CAAoBR,KAAKK,IAAzB,EAA+BL,KAAKS,EAApC;AADX,aAAP;AAGH;AACJ,KAbD;AAcH,E","file":"background.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap def9bace28711a9e6889","import RuleMatcher from './RuleMatcher';\nimport RulesService from './RulesService';\n\nconst service = RulesService.getRulesService();\nconst rules = service.get();\nwindow.rules = rules;\nconst ruleMatcher = new RuleMatcher(rules);\n\nchrome.webRequest.onBeforeRequest.addListener(\n    function(details) {\n        return ruleMatcher.redirectOnMatch(details);\n    },\n    {\n        urls : ['<all_urls>']\n    },\n    ['blocking']\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/background.js","const LocalRulesService = function () {\n    this.get = function() {\n        return JSON.parse(localStorage.getItem('data') || '{}');\n    };\n\n    this.set = function(data){\n        localStorage.setItem('data', JSON.stringify(data));\n    };\n};\n\nexport default {\n\tgetRulesService: function() {\n\t\treturn new LocalRulesService();\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/RulesService.js","export default function RuleMatcher(rules) {\n    let lastRequestId;\n\n    /// Combine all rules from all groups\n    rules = Object.keys(rules).reduce((arr, group) => {\n        return arr.concat(rules[group].paths);\n    }, []);\n\n    this.rules = rules;\n\n    this.redirectOnMatch = function(request) {\n        var rule = rules.find(function(rule) {\n            return rule.active\n                && request.url.indexOf(rule.from) > -1\n                && request.requestId !== lastRequestId;\n        });\n\n        if (rule) {\n            lastRequestId = request.requestId;\n            return {\n                redirectUrl : request.url.replace(rule.from, rule.to)\n            };\n        }\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/RuleMatcher.js"],"sourceRoot":""}